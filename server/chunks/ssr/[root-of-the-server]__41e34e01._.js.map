{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/data.ts"],"sourcesContent":["import fs from 'fs/promises';\nimport path from 'path';\nimport type { Template } from './definitions';\n\n// This file is intended for server-side data fetching.\n// For client-side, see data-client.ts\n\nasync function getTemplatesFromDb(db: 'main' | 'db' | 'db-new'): Promise<Template[]> {\n  const fileMap = {\n    'main': 'templates.json',\n    'db': 'template2-db.json',\n    'db-new': 'template2-db-new.json'\n  };\n  const fileName = fileMap[db] || 'templates.json';\n  const filePath = path.join(process.cwd(), 'src', 'lib', 'data', fileName);\n  \n  try {\n    const jsonData = await fs.readFile(filePath, 'utf-8');\n    if (!jsonData || jsonData.trim() === '') return [];\n    \n    const data: { [category: string]: Template[] } = JSON.parse(jsonData);\n\n    if (typeof data !== 'object' || data === null || Array.isArray(data)) {\n        console.error(`Error: ${fileName} is not a category-grouped object.`);\n        return [];\n    }\n\n    return Object.values(data).flat();\n\n  } catch (error) {\n    if ((error as NodeJS.ErrnoException).code === 'ENOENT') {\n      await fs.writeFile(filePath, JSON.stringify({}, null, 2), 'utf-8');\n      return [];\n    }\n    console.error(`Error reading or parsing ${fileName}:`, error);\n    return [];\n  }\n}\n\nexport async function getTemplates(): Promise<Template[]> {\n  return getTemplatesFromDb('main');\n}\n\nexport async function getTemplatesDb(): Promise<Template[]> {\n    return getTemplatesFromDb('db');\n}\n\nexport async function getTemplatesDbNew(): Promise<Template[]> {\n    return getTemplatesFromDb('db-new');\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;AAGA,uDAAuD;AACvD,sCAAsC;AAEtC,eAAe,mBAAmB,EAA4B;IAC5D,MAAM,UAAU;QACd,QAAQ;QACR,MAAM;QACN,UAAU;IACZ;IACA,MAAM,WAAW,OAAO,CAAC,GAAG,IAAI;IAChC,MAAM,WAAW,iGAAA,CAAA,UAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,OAAO,OAAO,QAAQ;IAEhE,IAAI;QACF,MAAM,WAAW,MAAM,qHAAA,CAAA,UAAE,CAAC,QAAQ,CAAC,UAAU;QAC7C,IAAI,CAAC,YAAY,SAAS,IAAI,OAAO,IAAI,OAAO,EAAE;QAElD,MAAM,OAA2C,KAAK,KAAK,CAAC;QAE5D,IAAI,OAAO,SAAS,YAAY,SAAS,QAAQ,MAAM,OAAO,CAAC,OAAO;YAClE,QAAQ,KAAK,CAAC,CAAC,OAAO,EAAE,SAAS,kCAAkC,CAAC;YACpE,OAAO,EAAE;QACb;QAEA,OAAO,OAAO,MAAM,CAAC,MAAM,IAAI;IAEjC,EAAE,OAAO,OAAO;QACd,IAAI,AAAC,MAAgC,IAAI,KAAK,UAAU;YACtD,MAAM,qHAAA,CAAA,UAAE,CAAC,SAAS,CAAC,UAAU,KAAK,SAAS,CAAC,CAAC,GAAG,MAAM,IAAI;YAC1D,OAAO,EAAE;QACX;QACA,QAAQ,KAAK,CAAC,CAAC,yBAAyB,EAAE,SAAS,CAAC,CAAC,EAAE;QACvD,OAAO,EAAE;IACX;AACF;AAEO,eAAe;IACpB,OAAO,mBAAmB;AAC5B;AAEO,eAAe;IAClB,OAAO,mBAAmB;AAC9B;AAEO,eAAe;IAClB,OAAO,mBAAmB;AAC9B","debugId":null}}]
}